#:import C kivy.utils.get_color_from_hex

<BillsOperation>
    cols: 1
    padding: 6,0,0,0
    spacing: 6
    MDBoxLayout:
        canvas.before:
            Color:
                rgba: C("#F1E9C60F")
            RoundedRectangle:
                size: self.size
                pos: self.pos
                radius: [(12,12), (12,12), (12,12), (12,12)]
        canvas:
            Color:
                rgba: C("#F1E9C60F")
            Line:
                rounded_rectangle: self.x , self.y, self.width, self.height, 12
                width: 1
        spacing: 12
        padding: 6,12,6,12
        orientation: 'vertical'
        size_hint_y: None
        height: 52
        MDLabel:
            text: "Recent Bills"
            color: C("#F1E9C6")
            halign: "center"
            pos_hint: {'center_y': .5}
        MDLabel:
            id: time_stamp
            text: "Wed Aug 21, 2021 | 09 : 44 : 23"
            color: C("#F1E9C6")
            halign: "center"
            pos_hint: {'center_y': .5}
    ScrollView:
        spacing: 12
        padding: 6,6,6,6
        do_scroll_x: False
        do_scroll_y: True
        bar_color: C("#025F50")
        bar_width: 0
        canvas.before:
            Color:
                rgba: C("#F1E9C60F")
            RoundedRectangle:
                size: self.size
                pos: self.pos
                radius: [(12,12), (12,12), (12,12), (12,12)]
        canvas:
            Color:
                rgba: C("#F1E9C60F")
            Line:
                rounded_rectangle: self.x , self.y, self.width, self.height, 12
                width: 1
        id: scrv_cur_bill
            # rECENT BILL
    MDGridLayout:
        cols: 2
        size_hint_y: None
        height: 68
        spacing: 12
        padding: 6,12,6,12
        canvas.before:
            Color:
                rgba: C("#F1E9C60F")
            RoundedRectangle:
                size: self.size
                pos: self.pos
                radius: [(12,12), (12,12), (12,12), (12,12)]
        canvas:
            Color:
                rgba: C("#F1E9C60F")
            Line:
                rounded_rectangle: self.x , self.y, self.width, self.height, 12
                width: 1
        MDLabel:
            text: "Subtotal"
            color: C("#F1E9C6")
            halign: "left"
            pos_hint: {'center_y': .5}
        MDLabel:
            text: "74000"
            color: C("#F1E9C6")
            halign: "right"
            pos_hint: {'center_y': .5}
        MDLabel:
            text: "TAX"
            color: C("#F1E9C6")
            halign: "left"
            pos_hint: {'center_y': .5}
        MDLabel:
            text: "7400"
            color: C("#F1E9C6")
            halign: "right"
            pos_hint: {'center_y': .5}
        MDLabel:
            text: "Total"
            color: C("#F1E9C6")
            halign: "left"
            pos_hint: {'center_y': .5}
        MDLabel:
            text: "81000"
            color: C("#F1E9C6")
            halign: "right"
            pos_hint: {'center_y': .5}
    MDGridLayout:
        cols: 4
        adaptive_height: True
        padding: 12,12,12,12
        spacing: 12
        canvas.before:
            Color:
                rgba: C("#F1E9C60F")
            RoundedRectangle:
                size: self.size
                pos: self.pos
                radius: [(12,12), (12,12), (12,12), (12,12)]
        canvas:
            Color:
                rgba: C("#F1E9C60F")
            Line:
                rounded_rectangle: self.x , self.y, self.width, self.height, 12
                width: 1
        
        Button_Item:
            text: "QRCode Scan"
            #badge_bg_color: C("#F1E9C60F")
            #badgeitem_color: C("#025F50")
            badge_disabled: True
            icon: "qrcode-scan"
            icon_color: C("#E3BFA3")
            text_color: C("#F1E9C6")
            button_bg_color: C("#F1E9C60F")
            on_release: root._on_qrcode_dispatch()

        Button_Item:
            text: "Clear Current Order"
            icon: "trash-can-outline"
            icon_color: C("#E3BFA3")
            text_color: C("#F1E9C6")
            button_bg_color: C("#F1E9C60F")
            #badgeitem_color: C("#025F50")
            #badge_bg_color: C("#F1E9C60F")
            badge_disabled: True
            on_release: root._on_clear_bill_dispatch()

        Button_Item:
            text: "Printer"
            icon: "printer"
            icon_color: C("#E3BFA3")
            text_color: C("#F1E9C6")
            button_bg_color: C("#F1E9C60F")
            #badgeitem_color: C("#025F50")
            #badge_bg_color: C("#F1E9C60F")
            badge_disabled: True
            on_release: root._on_print_bill_dispatch()

        Button_Item:
            text: "Pay"
            icon: "cash"
            icon_color: C("#E3BFA3")
            text_color: C("#F1E9C6")
            button_bg_color: C("#F1E9C60F")
            #badge_text: "+12"
            badge_bg_color: C("#F1E9C60F")
            badgeitem_color: C("#025F50")
            badge_bold: True
            badge_disabled: True
            on_release: root._on_pay_dispatch()