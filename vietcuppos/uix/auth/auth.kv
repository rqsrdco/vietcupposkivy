#:import get_color_from_hex kivy.utils.get_color_from_hex


<ScaleBox>
    canvas.before:
        PushMatrix
        Scale:
            x: root.scale
            y: root.scale
            z: root.scale
            origin: self.center
    canvas.after:
        PopMatrix


<ForgetpPasswordBox>
    orientation: "vertical"
    adaptive_height: True
    spacing: "12dp"
    padding: "36dp", 0, "36dp", 0
    pos_hint: {"center_x": .5, "center_y": .5}

    MDLabel:
        text: "Place Your Email !"
        font_style: "H5"
        adaptive_size: True
        pos_hint: {"center_x": .5}
        theme_text_color: "Custom"
        text_color: C("#F1E9C6")
        halign: "center"
        font_name: "VDUFFY VietCup"

    Widget:
        size_hint_y: None
        height: "36dp"

    MDTextField:
        id: get_email_field
        adaptive_height: True
        radius: [10,10,10,10]
        mode: "fill" # ["rectangle", "fill"]
        hint_text: "Email Address ?"
        current_hint_text_color: C("#E6C67C")
        font_name_hint_text: "VDUFFY VietCup"
        #icon_left: 'email'
        helper_text: "example@gmail.com"
        helper_text_mode: "on_error"
        font_name_helper_text: "FS GillSansMTPro VietCup"
        max_text_length: 36
        color_mode: "custom" #["primary", "accent", "custom"]
        line_color_normal:  C("#F1E9C60F")
        line_color_focus: C("#E6C67C")
        line_anim: True
        error_color: [239/255, 12/255, 14/255, 1]
        fill_color: C("#F1E9C60F")
        active_line: True
        icon_right: "email"
        icon_right_color: C("#E6C67C")
        text_color: C("#F1E9C6")
        font_size: "18sp"
        #max_height: 68
        focus: True
        multiline: False

    #MDTextField:
    #    id: get_email_field
    #    hint_text: "Email Address ?"
    #    mode: "fill"
    #    color_mode: 'custom'
    #    text_color: get_color_from_hex("#FBD834")
    #    hint_text_color: get_color_from_hex("#E3BFA3")
    #    fill_color: get_color_from_hex("#E6C67C0f")
    #    line_color_focus: get_color_from_hex("#E3BFA3")
    #    line_color_normal: app.theme_cls.accent_color

    Widget:
        size_hint_y: None
        height: "36dp"

    MDIconButton:
        id: forgotpass_btn
        adaptive_height: True
        on_release: app.root.current = 'mdicons_scrn' #root.parent.parent.goto_admin()
        canvas:
            Color:
                rgba: get_color_from_hex("#F1E9C60F")
            Line:
                width: 1.2
                circle: (self.center_x, self.center_y, sp(52))

        icon: "key"
        user_font_size: "48sp"
        pos_hint: {"center_x": .5}
        md_bg_color: get_color_from_hex("#E6C67C")


<SignInBox>
    orientation: "vertical"
    adaptive_height: True
    spacing: "12dp"
    padding: "36dp", 0, "36dp", 0
    pos_hint: {"center_x": .5, "center_y": .5}

    MDLabel:
        text: "Sign In"
        font_style: "H5"
        adaptive_size: True
        pos_hint: {"center_x": .5}
        theme_text_color: "Custom"
        text_color: C("#F1E9C6")
        halign: "center"
        font_name: "VDUFFY VietCup"

    Widget:
        size_hint_y: None
        height: "36dp"

    MDTextFieldRound:
        id: email_field
        adaptive_height: True
        markup: True
        icon_left: 'email'
        text: "c"
        focus: True
        multiline: False        
        hint_text: "Email address"
        helper_text: "Invalid Email"
        helper_text_mode: "on_error"
        icon_left: 'email'
        normal_color: get_color_from_hex("#F1E9C60F")
        color_active: get_color_from_hex("#E3BFA3aF")
        icon_left_color: get_color_from_hex("#382B2A")
        line_color: get_color_from_hex("#FBD834")
        on_text_validate: pwds.pwd_field.focus = True

    PasswordFieldRound:
        id: pwds

    Widget:
        size_hint_y: None
        height: "36dp"

    MDRoundFlatButton:
        id: signin_btn
        adaptive_height: True
        text: "Sign In"
        pos_hint: {"center_x": .5}
        line_width: 1.2
        theme_text_color: "Custom"
        text_color: get_color_from_hex("#E6C67C")
        line_color: get_color_from_hex("#E6C67C")
        on_press: root.validate_account() #root.parent.parent.goto_cashier()


<LoginScreen>
    #md_bg_color: get_color_from_hex("#2B2A29")  
    md_bg_color: get_color_from_hex("#382B2A")

    MDCard:
        id: box
        size_hint: .9, .9
        pos_hint: {"center_x": .5, "center_y": .5}
        radius: [12,]
        elevation: 18
        md_bg_color: get_color_from_hex("#F1E9C60F")

        ScaleBox:
            id: forgetpass_enabled_box
            orientation: "vertical"
            adaptive_height: True
            spacing: "32dp"
            pos_hint: {"center_x": .5, "center_y": .5}

            MDLabel:
                text: "Start your Session ?"
                theme_text_color: "Custom"
                text_color: get_color_from_hex("#E3BFA3")
                opposite_colors: True
                font_style: "H5"
                adaptive_size: True
                pos_hint: {"center_x": .5}

            MDRoundFlatButton:
                id: enter_signin_btn
                adaptive_height: True
                text: "Sign In"
                pos_hint: {"center_x": .5}
                line_width: 1.2
                theme_text_color: "Custom"
                text_color: get_color_from_hex("#E6C67C")
                line_color: get_color_from_hex("#E6C67C")
                on_release: root.animation_to_left()

        ScaleBox:
            id: start_forgetpass_box
            orientation: "vertical"
            adaptive_height: True
            spacing: "32dp"
            pos_hint: {"center_x": .5, "center_y": .5}

            MDLabel:
                text: "Forgot your \nPassword ?"
                theme_text_color: "Custom"
                text_color: get_color_from_hex("#E3BFA3")
                opposite_colors: True
                font_style: "H5"
                adaptive_size: True
                pos_hint: {"center_x": .5}

            MDRoundFlatButton:
                id: enter_get_pass_btn
                adaptive_height: True
                text: "Password Reset"
                pos_hint: {"center_x": .5}
                line_width: 1.2
                theme_text_color: "Custom"
                text_color: get_color_from_hex("#E6C67C")
                line_color: get_color_from_hex("#E6C67C")
                on_release: root.animation_to_right()

    MDCard:
        id: box2
        md_bg_color: get_color_from_hex("#382B2A")# get_color_from_hex("#382B2A")
        size_hint: None, None
        size: box.width / 2, box.height + dp(40)
        radius: [39,]
        elevation: 39
        x: box.x + dp(20) + root.card_x
        y: box.y - dp(20)

        SignInBox:
            id: signin_box

