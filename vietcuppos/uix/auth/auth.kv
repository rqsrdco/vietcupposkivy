#:import get_color_from_hex kivy.utils.get_color_from_hex


<ScaleBox>
    canvas.before:
        PushMatrix
        Scale:
            x: root.scale
            y: root.scale
            z: root.scale
            origin: self.center
    canvas.after:
        PopMatrix

<SignUpBox>
    orientation: "vertical"
    #adaptive_height: True
    spacing: "12dp"
    padding: "12dp", "39dp", "12dp", '17dp'
    pos_hint: {"center_x": .5, "center_y": .5}
    MDLabel:
        text: "Sign Up"
        font_style: "H5"
        adaptive_size: True
        pos_hint: {"center_x": .5}
        theme_text_color: "Custom"
        text_color: C("#F1E9C6")
        halign: "center"
        font_name: "VDUFFY VietCup"
    #MDLabel:
    #    text: "SignUP Form"
    #    adaptive_height: True
    #    theme_text_color: "Custom"
    #    text_color: get_color_from_hex("#E3BFA3")
    #    bold: True
    #    pos_hint: {"center_x": .65, "center_y": .5}
    #    font_style: "H4"
    Widget:
        size_hint_y: None
        height: '17dp'
    MDGridLayout:
        cols: 5
        size_hint_y: None
        #height: '68dp'
        pos_hint: {"center_x": .5, "center_y": .5}
        adaptive_height: True
        MDLabel:
            id: name
            text: "Name"
            pos_hint: {'center_y': .5}
            font_style: "H6"
            theme_text_color: 'Custom'
            text_color: get_color_from_hex("#F1E9C60F")
        Widget:
        MDLabel:
            id: contact
            text: "Contact"
            pos_hint: {'center_y': .5}
            font_style: "H6"
            theme_text_color: 'Custom'
            text_color: get_color_from_hex("#F1E9C60F")
        Widget:
        MDLabel:
            id: submit
            text: "Submit"
            pos_hint: {'center_y': .5}
            font_style: "H6"
            theme_text_color: 'Custom'
            text_color: get_color_from_hex("#F1E9C60F")
        MDIconButton:
            id: btn_name
            icon: "numeric-1-circle"
            pos_hint: {'center_y': .5}
            user_font_size: '39sp'
            theme_text_color: 'Custom'
            text_color: get_color_from_hex("#F1E9C60F")
        MDProgressBar:
            id: progress
            size_hint_x: .1
            pos_hint: {'center_y': .5}
            color: get_color_from_hex("#F1E9C60F")
        MDIconButton:
            id: btn_contact
            icon: "numeric-2-circle"
            pos_hint: {'center_y': .5}
            user_font_size: '39sp'
            theme_text_color: 'Custom'
            text_color: get_color_from_hex("#F1E9C60F")
        MDProgressBar:
            id: progress1
            size_hint_x: .1
            pos_hint: {'center_y': .5}
            color: get_color_from_hex("#F1E9C60F")
        MDIconButton:
            id: btn_submit
            icon: "numeric-3-circle"
            pos_hint: {'center_y': .5}
            user_font_size: '39sp'
            theme_text_color: 'Custom'
            text_color: get_color_from_hex("#F1E9C60F")
    MDCard:
        #size_hint_y: None
        #height: '233dp'
        apaptive_height: True
        pos_hint: {"center_x": .5, "center_y": .5}
        padding: "12dp", 0, "12dp", '12dp'
        spacing: "12dp"
        md_bg_color: get_color_from_hex("#382B2A")
        radius: ['12dp', '12dp','12dp', '12dp']
        elevation: "0dp"
        Carousel:
            id: slide
            MDBoxLayout:
                orientation: 'vertical'
                spacing: '12dp'
                pos_hint: {"center_x": .5, "center_y": .5}
                MyTextField:
                    hint_text: "First Name"
                    size_hint_x: .8
                    pos_hint: {"center_x": .5, "center_y": .5}
                    icon_right: "target-account"
                MyTextField:
                    hint_text: "Last Name"
                    size_hint_x: .8
                    pos_hint: {"center_x": .5, "center_y": .5}
                    icon_right: "tooltip-account"
                #Widget:
                MDFillRoundFlatIconButton:
                    size_hint_x: .8
                    adaptive_size: True
                    pos_hint: {"center_x": .5, "center_y": .5}
                    theme_text_color: "Custom"
                    text_color: get_color_from_hex("#E3BFA3")
                    md_bg_color: get_color_from_hex("#F1E9C60F")
                    icon: 'menu-right-outline'
                    text: "Contact"
                    icon_color: get_color_from_hex("#E3BFA3")
                    on_release: root.next()
            MDBoxLayout:
                orientation: 'vertical'
                spacing: '12dp'
                pos_hint: {"center_x": .5, "center_y": .5}
                MyTextField:
                    hint_text: "Email Address"
                    size_hint_x: .8
                    pos_hint: {"center_x": .5, "center_y": .5}
                    icon_right: "email-variant"
                MyTextField:
                    hint_text: "Phone Number"
                    size_hint_x: .8
                    pos_hint: {"center_x": .5, "center_y": .5}
                    icon_right: "phone-in-talk-outline"
                #Widget:
                MDBoxLayout:
                    orientation: 'horizontal'
                    spacing: '12dp'
                    padding: '12dp', 0, '12dp', 0
                    pos_hint: {'center_x': .5, 'center_y': .5}
                    MDFillRoundFlatIconButton:
                        icon: 'menu-left-outline'
                        text: "Name"
                        icon_color: get_color_from_hex("#E3BFA3")
                        adaptive_size: True
                        pos_hint: {"center_y": .5}
                        size_hint_x: .33
                        theme_text_color: "Custom"
                        text_color: get_color_from_hex("#E3BFA3")
                        md_bg_color: get_color_from_hex("#F1E9C60F")
                        on_release: root.previous()
                    MDFillRoundFlatIconButton:
                        size_hint_x: .33
                        adaptive_size: True
                        pos_hint: {"center_y": .5}
                        theme_text_color: "Custom"
                        text_color: get_color_from_hex("#E6C67C")
                        text_color: get_color_from_hex("#E3BFA3")
                        md_bg_color: get_color_from_hex("#F1E9C60F")
                        icon: 'menu-right-outline'
                        text: "Password"
                        icon_color: get_color_from_hex("#E3BFA3")
                        on_release: root.next1()
            MDBoxLayout:
                orientation: 'vertical'
                spacing: '12dp'
                pos_hint: {"center_x": .5, "center_y": .5}
                MyTextField:
                    hint_text: "Password"
                    password: True
                    size_hint_x: .8
                    pos_hint: {"center_x": .5, "center_y": .5}
                    icon_right: "form-textbox-password"
                MyTextField:
                    hint_text: "Confirm Password"
                    password: True
                    size_hint_x: .8
                    pos_hint: {"center_x": .5, "center_y": .5}
                    icon_right: "form-textbox-password"
                #Widget:
                MDBoxLayout:
                    orientation: 'horizontal'
                    spacing: '12dp'
                    padding: '12dp', 0, '12dp', 0
                    pos_hint: {'center_x': .5, 'center_y': .5}
                    MDFillRoundFlatIconButton:
                        icon: 'menu-left-outline'
                        text: "Contact"
                        icon_color: get_color_from_hex("#E3BFA3")
                        adaptive_size: True
                        size_hint_x: .33
                        pos_hint: {"center_y": .5}
                        theme_text_color: "Custom"
                        text_color: get_color_from_hex("#E3BFA3")
                        md_bg_color: get_color_from_hex("#F1E9C60F")
                        on_release: root.previous1()
                    MDFillRoundFlatIconButton:
                        adaptive_size: True
                        size_hint_x: .33
                        icon: 'transfer-right'
                        text: "Submit"
                        icon_color: get_color_from_hex("#E3BFA3")
                        pos_hint: {"center_y": .5}
                        theme_text_color: "Custom"
                        text_color: get_color_from_hex("#E3BFA3")
                        md_bg_color: get_color_from_hex("#F1E9C60F")
                        elevation: 18
    
<MyTextField@MDTextField>
    adaptive_height: True
    current_hint_text_color: C("#E6C67C")
    font_name_hint_text: "VDUFFY VietCup"
    helper_text: "example@gmail.com"
    helper_text_mode: "on_error"
    font_name_helper_text: "FS GillSansMTPro VietCup"
    color_mode: "custom" #["primary", "accent", "custom"]
    line_color_normal:  C("#F1E9C60F")
    line_color_focus: C("#E6C67C")
    line_anim: True
    error_color: [239/255, 12/255, 14/255, 1]
    active_line: True
    icon_right_color: C("#E6C67C")
    text_color: C("#F1E9C6")
    font_size: "18sp"
    multiline: False

<ForgetpPasswordBox>
    orientation: "vertical"
    adaptive_height: True
    spacing: "12dp"
    padding: "36dp", 0, "36dp", 0
    pos_hint: {"center_x": .5, "center_y": .5}

    MDLabel:
        text: "Place Your Email !"
        font_style: "H5"
        adaptive_size: True
        pos_hint: {"center_x": .5}
        theme_text_color: "Custom"
        text_color: C("#F1E9C6")
        halign: "center"
        font_name: "VDUFFY VietCup"

    Widget:
        size_hint_y: None
        height: "36dp"

    MDTextField:
        id: get_email_field
        adaptive_height: True
        radius: [10,10,10,10]
        mode: "fill" # ["rectangle", "fill"]
        hint_text: "Email Address ?"
        current_hint_text_color: C("#E6C67C")
        font_name_hint_text: "VDUFFY VietCup"
        #icon_left: 'email'
        helper_text: "example@gmail.com"
        helper_text_mode: "on_error"
        font_name_helper_text: "FS GillSansMTPro VietCup"
        max_text_length: 36
        color_mode: "custom" #["primary", "accent", "custom"]
        line_color_normal:  C("#F1E9C60F")
        line_color_focus: C("#E6C67C")
        line_anim: True
        error_color: [239/255, 12/255, 14/255, 1]
        fill_color: C("#F1E9C60F")
        active_line: True
        icon_right: "email"
        icon_right_color: C("#E6C67C")
        text_color: C("#F1E9C6")
        font_size: "18sp"
        multiline: False
        #max_height: 68
        focus: True

    #MDTextField:
    #    id: get_email_field
    #    hint_text: "Email Address ?"
    #    mode: "fill"
    #    color_mode: 'custom'
    #    text_color: get_color_from_hex("#FBD834")
    #    hint_text_color: get_color_from_hex("#E3BFA3")
    #    fill_color: get_color_from_hex("#E6C67C0f")
    #    line_color_focus: get_color_from_hex("#E3BFA3")
    #    line_color_normal: app.theme_cls.accent_color

    Widget:
        size_hint_y: None
        height: "36dp"

    MDIconButton:
        id: forgotpass_btn
        adaptive_height: True
        on_release: app.root.current = 'mdicons_scrn' #root.parent.parent.goto_admin()
        canvas:
            Color:
                rgba: get_color_from_hex("#F1E9C60F")
            Line:
                width: 1
                circle: (self.center_x, self.center_y, sp(52))

        icon: "key"
        user_font_size: "48sp"
        pos_hint: {"center_x": .5}
        md_bg_color: get_color_from_hex("#E6C67C")


<SignInBox>
    orientation: "vertical"
    adaptive_height: True
    spacing: "12dp"
    padding: "36dp", 0, "36dp", 0
    pos_hint: {"center_x": .5, "center_y": .5}

    MDLabel:
        text: "Sign In"
        font_style: "H5"
        adaptive_size: True
        pos_hint: {"center_x": .5}
        theme_text_color: "Custom"
        text_color: C("#F1E9C6")
        halign: "center"
        font_name: "VDUFFY VietCup"

    Widget:
        size_hint_y: None
        height: "36dp"

    MDTextFieldRound:
        id: email_field
        adaptive_height: True
        markup: True
        icon_left: 'email'
        text: "c"
        focus: True
        multiline: False        
        hint_text: "Email address"
        helper_text: "Invalid Email"
        helper_text_mode: "on_error"
        icon_left: 'email'
        normal_color: get_color_from_hex("#F1E9C60F")
        color_active: get_color_from_hex("#E3BFA3aF")
        icon_left_color: get_color_from_hex("#382B2A")
        line_color: get_color_from_hex("#FBD834")
        on_text_validate: pwds.pwd_field.focus = True

    PasswordFieldRound:
        id: pwds

    Widget:
        size_hint_y: None
        height: "36dp"

    MDRoundFlatButton:
        id: signin_btn
        adaptive_height: True
        text: "Sign In"
        pos_hint: {"center_x": .5}
        line_width: 1
        theme_text_color: "Custom"
        text_color: get_color_from_hex("#E6C67C")
        line_color: get_color_from_hex("#E6C67C")
        on_press: root.validate_account()
        #root.parent.parent.goto_cashier()

<SignInButton@FloatLayout>
    id: layout
    canvas.before:
        Color:
            rgba: 0,0,0,1
        Rectangle:
            size: self.size
            pos: self.pos
    canvas:
        Color:
            rgba: (0,0,1,1)
        RoundedRectangle:
            size : self.width/2, self.height/3
            pos : self.center_x - self.width/4 , self.center_y - self.height/6                         
            radius: [(40, 40), (40, 40), (40, 40), (40, 40)]
    Button:
        id: signin_btn
        #adaptive_height: True
        text: "Sign In"
        on_press: root.validate_account()
        size_hint:None,None
        size: layout.width/2, layout.height/3
        pos: layout.center_x - layout.width/4 , layout.center_y - layout.height/6    
        background_color: 1,0,0,.5


<LoginScreen>
    #md_bg_color: get_color_from_hex("#2B2A29")  
    md_bg_color: get_color_from_hex("#382B2A")

    MDCard:
        id: box
        #size_hint: .9, .9
        size_hint: None, None
        size: 600, 400
        pos_hint: {"center_x": .5, "center_y": .5}
        radius: [12,]
        elevation: 12
        md_bg_color: get_color_from_hex("#F1E9C60F")

        ScaleBox:
            id: auth_box_bg
            orientation: "vertical"
            adaptive_height: True
            spacing: "32dp"
            pos_hint: {"center_x": .5, "center_y": .5}

            MDLabel:
                text: "Start your Session ?"
                theme_text_color: "Custom"
                text_color: get_color_from_hex("#E3BFA3")
                opposite_colors: True
                font_style: "H5"
                adaptive_size: True
                pos_hint: {"center_x": .5}

            MDRoundFlatButton:
                id: enter_signin
                adaptive_height: True
                text: "Sign In"
                pos_hint: {"center_x": .5}
                line_width: 1
                theme_text_color: "Custom"
                text_color: get_color_from_hex("#E6C67C")
                line_color: get_color_from_hex("#E6C67C")
                on_release: root.animation_to_signin()

            MDLabel:
                text: "Needs an Account ?"
                theme_text_color: "Custom"
                text_color: get_color_from_hex("#E3BFA3")
                opposite_colors: True
                font_style: "Caption"
                adaptive_size: True
                pos_hint: {"center_x": .5}

            MDRoundFlatButton:
                id: enter_signup
                adaptive_height: True
                text: "Register"
                pos_hint: {"center_x": .5}
                line_width: 1
                theme_text_color: "Custom"
                text_color: get_color_from_hex("#E6C67C")
                line_color: get_color_from_hex("#E6C67C")
                on_release: root.animation_to_signup()

        ScaleBox:
            id: forgotpwd_box_bg
            orientation: "vertical"
            adaptive_height: True
            spacing: "32dp"
            pos_hint: {"center_x": .5, "center_y": .5}

            MDLabel:
                text: "Forgot your \nPassword ?"
                theme_text_color: "Custom"
                text_color: get_color_from_hex("#E3BFA3")
                opposite_colors: True
                font_style: "H5"
                adaptive_size: True
                pos_hint: {"center_x": .5}

            MDRoundFlatButton:
                id: enter_getpwd
                adaptive_height: True
                text: "Get Password"
                pos_hint: {"center_x": .5}
                line_width: 1
                theme_text_color: "Custom"
                text_color: get_color_from_hex("#E6C67C")
                line_color: get_color_from_hex("#E6C67C")
                on_release: root.animation_to_getpwd()

    MDCard:
        id: box2
        md_bg_color: get_color_from_hex("#382B2A")# get_color_from_hex("#382B2A")
        size_hint: None, None
        size: box.width / 2, box.height + dp(40)
        radius: [39,]
        elevation: 39
        x: box.x + dp(20) + root.card_x
        y: box.y - dp(20)

        SignInBox:
            id: signin_box

